{"ast":null,"code":"import _slicedToArray from \"/Users/MPB/repos/CS545/Assignments/react-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/MPB/repos/CS545/Assignments/react-front-end/src/components/Posts.js\";\nimport axios from \"axios\";\nimport React, { useState, useEffect, createContext } from \"react\";\nimport Post from \"./Post\";\nimport PostDetails from \"./PostDetails\";\nexport var PostContext = createContext(null);\nexport default function Posts(refreshFlag) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedPost = _useState4[0],\n      setSelectedPost = _useState4[1];\n\n  var updateSelected = function updateSelected(selected) {\n    return selectedPost(selected);\n  };\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      refresh = _useState6[0],\n      setRefresh = _useState6[1];\n\n  useEffect(function () {\n    axios.get(\"/posts\").then(function (res) {\n      setPosts(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, [refresh, refreshFlag]);\n  return /*#__PURE__*/React.createElement(PostContext.Provider, {\n    value: {\n      selectedPost: selectedPost,\n      setSelectedPost: setSelectedPost,\n      setRefresh: setRefresh\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, posts.map(function (post, key) {\n    return /*#__PURE__*/React.createElement(Post, {\n      key: post.id,\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }\n    });\n  }), selectedPost && /*#__PURE__*/React.createElement(PostDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 26\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/MPB/repos/CS545/Assignments/react-front-end/src/components/Posts.js"],"names":["axios","React","useState","useEffect","createContext","Post","PostDetails","PostContext","Posts","refreshFlag","posts","setPosts","selectedPost","setSelectedPost","updateSelected","selected","refresh","setRefresh","get","then","res","data","catch","err","console","log","map","post","key","id"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,aAArC,QAA0D,OAA1D;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAO,IAAMC,WAAW,GAAGH,aAAa,CAAC,IAAD,CAAjC;AAEP,eAAe,SAASI,KAAT,CAAeC,WAAf,EAA4B;AAAA;;AAAA,kBACfP,QAAQ,CAAC,EAAD,CADO;AAAA;AAAA,MAClCQ,KADkC;AAAA,MAC3BC,QAD2B;;AAAA,mBAEDT,QAAQ,CAAC,EAAD,CAFP;AAAA;AAAA,MAElCU,YAFkC;AAAA,MAEpBC,eAFoB;;AAGzC,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,QAAD;AAAA,WAAcH,YAAY,CAACG,QAAD,CAA1B;AAAA,GAAvB;;AAHyC,mBAIXb,QAAQ,CAAC,IAAD,CAJG;AAAA;AAAA,MAIlCc,OAJkC;AAAA,MAIzBC,UAJyB;;AAMzCd,EAAAA,SAAS,CAAC,YAAM;AACdH,IAAAA,KAAK,CACFkB,GADH,CACO,QADP,EAEGC,IAFH,CAEQ,UAACC,GAAD,EAAS;AACbT,MAAAA,QAAQ,CAACS,GAAG,CAACC,IAAL,CAAR;AACD,KAJH,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAPH;AAQD,GATQ,EASN,CAACP,OAAD,EAAUP,WAAV,CATM,CAAT;AAWA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEG,MAAAA,YAAY,EAAZA,YAAF;AAAgBC,MAAAA,eAAe,EAAfA,eAAhB;AAAiCI,MAAAA,UAAU,EAAVA;AAAjC,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGP,KAAK,CAACgB,GAAN,CAAU,UAACC,IAAD,EAAOC,GAAP;AAAA,wBACT,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAED,IAAI,CAACE,EAAhB;AAAoB,MAAA,IAAI,EAAEF,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADS;AAAA,GAAV,CADH,EAIGf,YAAY,iBAAI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJnB,CADF,CADF;AAUD","sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect, createContext } from \"react\";\nimport Post from \"./Post\";\nimport PostDetails from \"./PostDetails\";\n\nexport const PostContext = createContext(null);\n\nexport default function Posts(refreshFlag) {\n  const [posts, setPosts] = useState([]);\n  const [selectedPost, setSelectedPost] = useState(\"\");\n  const updateSelected = (selected) => selectedPost(selected);\n  const [refresh, setRefresh] = useState(null);\n\n  useEffect(() => {\n    axios\n      .get(\"/posts\")\n      .then((res) => {\n        setPosts(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [refresh, refreshFlag]);\n\n  return (\n    <PostContext.Provider value={{ selectedPost, setSelectedPost, setRefresh }}>\n      <div className=\"posts\">\n        {posts.map((post, key) => (\n          <Post key={post.id} post={post} />\n        ))}\n        {selectedPost && <PostDetails />}\n      </div>\n    </PostContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}